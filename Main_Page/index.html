<!DOCTYPE HTML>
<html>

<head>
    <meta charset="UTF-8" />
    <title>My friends</title>
    <link href="./style.css" rel="stylesheet" />
    <script>

        window.onload = () => {
            const inputEmail = document.querySelector('#email');

            const showErrorInContainer = (containerSelector, error) => {
                const inputContainer = document.querySelector(containerSelector);
                const isElementExist = inputContainer.querySelector('#error');

                if (!isElementExist) {
                    const div = inputContainer.appendChild(document.createElement('div'));
                    div.innerHTML = error;
                    div.id = 'error';
                    div.style = 'color: red;';
                } else {
                    isElementExist.innerHTML = error;
                }
            };

            const cleanError = (containerSelector) => {
                const inputContainer = document.querySelector(containerSelector);
                const errorDiv = inputContainer.querySelector('#error');
                if (errorDiv) {
                    errorDiv.remove();
                }
            }

            const validateEmail = (value) => {
                if (value.length < 6) {
                    return 'Invalid Email Length';
                }

                if (value.split('@').length < 2) {
                    return 'Invalid Email Format';
                }

                return null;
            }

            if (inputEmail) {
                inputEmail.addEventListener('input', (event) => {
                    const error = validateEmail(event.target.value);
                    const containerSelector = '#email_container';

                    if (error) {
                        showErrorInContainer(containerSelector, error);
                    } else {
                        cleanError(containerSelector);
                    }
                });
            }
        }
    </script>
    <script>
        const users = [
            {
                id: 1, name: "vasya", photo: "<img width=100px, height=100px src = https://i.ibb.co/jwc2RHp/Ko.jpg></img>"
            },
            {
                id: 2, name: "fasya", photo: "<img width=100px, height=100px src = https://i.ibb.co/jwc2RHp/Ko.jpg></img>"
            },
            {
                id: 3, name: "CatOne", photo: "<img width=100px, height=100px src = https://i.ibb.co/jwc2RHp/Ko.jpg></img>"
            },
            {
                id: 4, name: "morkowka", photo: "<img width=100px, height=100px src = https://i.ibb.co/jwc2RHp/Ko.jpg></img>"
            },
            {
                id: 5, name: "garpun", photo: "<img width=100px, height=100px src = https://i.ibb.co/jwc2RHp/Ko.jpg></img>"
            },
            {
                id: 6, name: "smerdiachi", photo: "<img width=100px, height=100px src = https://i.ibb.co/jwc2RHp/Ko.jpg></img>"
            },
        ];
        window.onload = () => {
            const tableElement = document.querySelector('#table');
            const table = document.createElement('table');

            users.forEach((user) => {
                const tr = document.createElement('tr');

                Object.keys(user).forEach((key) => {
                    const cell = document.createElement('td');
                    cell.innerHTML = user[key];

                    tr.appendChild(cell);
                });

                table.appendChild(tr);
            });

            tableElement.appendChild(table);
        }

    </script>
</head>

<body>
    <div class="header">
        <span>Hello</span>
        <form>
            <button class="btn3000">Скрыть все картинки</button>
        </form>
    </div>
    <div class="content">
        <div class="menu">
            <form class="signin" id="email_container">
                <span class="form_title">Sign in</span>
                <input class="input" type="email" id="email" placeholder="email">
                <input class="input" type="password" id="password" placeholder="password">
                <button class="btn" type="submit">Sign in</button>
            </form>
            <form class="signin">
                <span class="form_title">Sign up</span>
                <input class="input" type="email" placeholder="email">
                <input class="input" type="password" placeholder="password">
                <input class="input" type="Repeat password" placeholder="repeat password">
                <button class="btn" type="submit">Sign up</button>
            </form>
        </div>
        <div id="table" class="table">

        </div>
    </div>
    <div class="footer"></div>
</body>

</html>